<?xml version='1.0' encoding='utf-8'?>
<widget id="com.dccarlobos.rmereviewer"
        version="1.0.0"
        xmlns="http://www.w3.org/ns/widgets"
        xmlns:android="http://schemas.android.com/apk/res/android">

  <!-- App Name & Info -->
  <name>RME Reviewer</name>
  <description>For RME Reviewer app built with Cordova wrapper</description>
  <author email="dccarlobos@gmail.com"
          href="https://play.google.com/store/apps/details?id=com.dccarlobos.rmereviewer">
    Don Carlo Carlobos
  </author>

  <!-- Entry point -->
  <content src="index.html" />

  <!-- Preferences -->
  <preference name="Fullscreen" value="true" />
  <preference name="Orientation" value="portrait" />

  <!-- Android 9–11 Classic Splash (still optional) -->
  <preference name="SplashScreen" value="splash" />
  <preference name="SplashScreenDelay" value="2000" />
  <preference name="SplashMaintainAspectRatio" value="true" />
  <preference name="ShowSplashScreenSpinner" value="false" />

  <!-- Android 12+ Splash Screen API -->
  <preference name="AndroidWindowSplashScreenAnimatedIcon" value="@mipmap/ic_launcher" />
  <preference name="AndroidWindowSplashScreenBackground" value="#0f1724" />
  <preference name="AndroidWindowSplashScreenDuration" value="2000" />

  <!-- Navigation & Intents -->
  <allow-navigation href="*" />
  <allow-intent href="http://*/*" />
  <allow-intent href="https://*/*" />
  <allow-intent href="market:*" />

  <!-- Plugins -->
  <plugin name="cordova-plugin-x-socialsharing" spec="^6.0.0" />
  <plugin name="cordova-plugin-inappbrowser" spec="^5.0.0" />
  <plugin name="cordova-plugin-splashscreen" spec="^6.0.0" />

  <!-- App icon -->
  <icon src="resources/icon.png" />

  <!-- Android platform-specific -->
  <platform name="android">

    <!-- Internet permission -->
    <edit-config file="AndroidManifest.xml"
                 mode="merge"
                 target="/manifest/uses-permission[@android:name='android.permission.INTERNET']">
      <uses-permission android:name="android.permission.INTERNET" />
    </edit-config>

    <!-- ✅ Fix for Android 12+ exported receiver -->
    <edit-config file="AndroidManifest.xml"
                 mode="merge"
                 target="/manifest/application/receiver[@android:name='nl.xservices.plugins.ShareChooserPendingIntent']">
      <receiver android:name="nl.xservices.plugins.ShareChooserPendingIntent"
                android:exported="true" />
    </edit-config>

    <!-- Icons -->
    <icon src="resources/icon.png" density="ldpi" />
    <icon src="resources/icon.png" density="mdpi" />
    <icon src="resources/icon.png" density="hdpi" />
    <icon src="resources/icon.png" density="xhdpi" />
    <icon src="resources/icon.png" density="xxhdpi" />
    <icon src="resources/icon.png" density="xxxhdpi" />

  </platform>
</widget>
